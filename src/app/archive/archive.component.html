<section class="content">

  <ngx-spinner
    bdColor="rgba(51,51,51,0.8)"
    size="medium"
    color="#fff"
    type="timer" >
    <p style="font-size: 20px; color: white">Chargement ...</p>
  </ngx-spinner>

  <div class="block-header">
    <div class="row">
      <div class="col-lg-7 col-md-6 col-sm-12">
        <h2>Gestion d'archive Médical
          <small>Liste des consultations </small>
        </h2>
      </div>
      <div class="col-lg-5 col-md-6 col-sm-12">
<<<<<<< HEAD
        <button class="btn btn-white btn-icon btn-round hidden-sm-down float-right m-l-10" type="button">
          <i class="zmdi zmdi-plus"></i>
        </button>
=======
        <!--<button class="btn btn-white btn-icon btn-round hidden-sm-down float-right m-l-10" type="button">-->
          <!--<i class="zmdi zmdi-plus"></i>-->
        <!--</button>-->
>>>>>>> second commit
        <ul class="breadcrumb float-md-right">
          <li class="breadcrumb-item"><a routerLink="/dashboard/main"><i class="zmdi zmdi-home"></i> MedPro</a></li>
          <li class="breadcrumb-item active">Le {{ date | moment :'LLLL'}}</li>
        </ul>
      </div>
    </div>
  </div>
  <div class="container-fluid">
    <div class="row clearfix">
      <div class="col-lg-12">
        <div class="card">
          <div class="body" style="min-height: 500px;">
<<<<<<< HEAD
            <ng-select #select1 class="custom"
=======
            <ng-select #select1
>>>>>>> second commit
                       [items]="patients"
                       bindLabel="item.numFichPatient"
                       bindValue="item.numFichPatient"
                       [searchFn]="customSearchFn"
                       [loading]="consultsLoading"
                       placeholder="Sélectionnez le patient ou tapez ID ou le nom du patient"
                       (change)="onChange($event)"
                       loadingText ="Chargement..."
                       [virtualScroll]="true"
                       [(ngModel)]="selectedPersonId">
              <ng-template ng-option-tmp let-item="item" let-index="index" let-search="searchTerm">
                <div>
                  <div>
                    <p class="card-text" style="width: 100px">
                      <img height="50" width="50" [src]="item.img"/>
                    </p>
                    <div style="margin-top: -65px; margin-left: 55px;">
                    <h5 class="card-title" [ngOptionHighlight]="search">{{item.item.numFichPatient}}</h5>
                    <h6 class="card-subtitle mb-2 text-muted" [ngOptionHighlight]="search">{{item.item.prenom }} {{item.item.nom}} </h6>
                    </div>
                  </div>
                </div>
              </ng-template>

            </ng-select>
            <div>
              <br/>


              <table class="table table-striped table-bordered table-hover">
                <thead>
                <tr style="text-align: center;color: #337ab7;">
                  <th style="text-align: center;" > Date </th>
                  <th style="text-align: center;"> Déscription </th>
                  <th style="text-align: center;"> Prescription </th>
                  <th style="text-align: center;" colspan="2" > Soins a réaliser </th>
                </tr>
                </thead>

                <tbody>
                <tr *ngFor="let f of consults">
                  <td> {{ f.dateConsult | moment:'LL'}}</td>
                  <td> <strong>Type :</strong>{{f.typeConsult}} <br>
                    <strong> N° :</strong>{{f.numConsult}} <br>
                    <strong> Diagnostic :</strong> {{f.diagconsult.libelle}} <br>
                    <strong> Motifs : </strong> <br>
                    <span *ngFor="let m of f.motifConsultCollection" style="margin-left: 20px;"> - {{m.motif.libelle}} <br></span>
                  </td>
                  <td>
                    <div *ngIf="f.numOrd !== null">
                      <strong> Ordonnance :</strong>{{f.numOrd.numOrd}} <br>
                      <strong> Médicaments : </strong><br>
                      <span></span>
                    </div>
                    <div *ngIf="f.acteMedicauxCollection.length > 0 ">
                      <strong>Actes Médicaux :</strong> <br>
                      <span *ngFor="let a of f.acteMedicauxCollection" style="margin-left: 10px;"> - {{a.acte.libelle}} <br></span>
                    </div>
                  </td>
                  <td><strong> </strong></td>
                  <td><strong> </strong> </td>
                  </tr>
                </tbody>
              </table>
            </div>

            </div>

          </div>
        </div>
      </div>
    </div>
  <app-footer></app-footer>
</section>
